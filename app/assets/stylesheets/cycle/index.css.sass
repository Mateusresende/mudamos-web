@import "bourbon"
@import "bootstrap/variables"
@import "custom_variables"
@import "ico-font"

// Mixins
@mixin arrow($color, $direction)
  background-color: $color
  position: relative
  @if $direction == 'left'
    +transform(rotate(180deg))
  &:after
    @extend [class^="icon-"]
    @extend .icon-arrow:before
    color: $color
    position: absolute
    top: 50%
    right: 0
    margin-right: -3px

@mixin small-arrow($color, $direction: '')
  +arrow($color, $direction)
  &:after
    font-size: 24px
    margin-top: -12px

body
  &.cycles-index
    background: #e6e6e6 image-url("textured_paper.png")

    .footer-nav
      margin-top: 30px
      background-color: transparent


    nav.navbar.navbar-default.navbar-fixed-top
      position: absolute
      top: calc(100% - #{$navbar-height})
      .navbar-brand, .navbar-toggle
        opacity: 1
        +transition(opacity 0.3s ease)

        @media (min-width: $screen-sm-min)
          opacity: 0

      &.stuck
        position: fixed
        top: 0
        .navbar-brand,
        .navbar-toggle
          opacity: 1

#cycles-index
  .blocks
    background-color: rgba(0, 0, 0, 0.4)
    position: relative

  .header
    background-color: #fff
    overflow: hidden
    position: relative
    height: 100vh

    h1
      font-family: $nunito-font
      font-size: 36px
      margin: 16px 0 0

    strong
      font-family: $fira-sans-font

    video, .image
      position: absolute
      height: 100%
      left: 0

    .image
      background-size: cover
      background-repeat: no-repeat
      background-position: center
      width: 100%

    .content
      display: table
      height: 100%

      .wrapper
        display: table-cell
        vertical-align: middle

    .logo
      height: 160px
      max-width: 100%

  .block
    margin-top: 100px
    background: #e6e6e6 image-url("textured_paper.png")
    font-family: $nunito-font
    padding: 75px 0
    font-size: 24px

    &#tools_carousel, &#tools_no_carousel
      margin-top: 0

    .next
      position: absolute
      bottom: -50px
      left: calc(50% - 20px)
      text-align: center

      a
        text-decoration: none

        &:hover, &:active
          text-decoration: none

        img
          width: 40px
          height: 40px

    &:first-of-type
      margin-top: 0

    &.no-title,
    &.carousel
      font-weight: 400
      font-size: 28px

    &.no-icon
      .content
        text-align: center

    &.purple
      background: linear-gradient(90deg, rgba(33, 17, 71, 0.85) 0, rgba(81, 51, 147, 0.85) 100%), image-url("textured_paper.png"), #e3e3e3
      color: #eeede9

      .next
        img.purple
          display: none

    &:not(.purple)
      .light-wrapper
        border-radius: 230px
        height: 230px
        width: 230px
        padding: 50px
        background: linear-gradient(90deg, rgba(33, 17, 71, 0.85) 0, rgba(81, 51, 147, 0.85) 100%)

        .icon
          width: 100%
          height: 100%

      .next
        img.white
          display: none

    &.carousel
      .drawing
        text-align: center

        .block-title
          margin: 16px 0 0

      .options
        margin-bottom: 50px

        .tool
          .block-title
            color: rgba(255, 255, 255, 0.8)

          &.active
            .block-title
              color: #fff

          &:hover
          &.active
            .icon
              height: 70px
              width: 70px
              margin: 5px

            .circle-wrapper
              background-color: rgba(255, 255, 255, 0.25)

          .block-title
            font-size: 22px
            margin-top: 10px

          .circle-wrapper
            display: inline-block
            padding: 20px
            background-color: rgba(255, 255, 255, 0.1)
            border-radius: 60px
            cursor: pointer
            +transition(all 0.2s ease)

      .icon
        display: block
        background-size: contain
        background-repeat: no-repeat
        background-position: center
        +transition(all 0.2s ease)

        &.highlighted
          height: 120px
          width: 120px

        &.medium
          height: 60px
          width: 60px
          margin: 10px

    &.solution
      .next
        display: none

      .media
        p
          margin: 0

      .background-drawing
        &.top-left
          height: 74px
          left: calc(100%/12 * 4 - 25px)
          top: 40px
          transform: rotate(195deg)

        &.top-right
          height: 114px
          right: calc(100%/12 * 3)
          top: 30px
          transform: rotate(240deg)

        &.bottom-right
          bottom: 50px
          right: calc(100%/12 * 3)
          transform: rotate(350deg)
          height: 130px

      @media (max-width: $screen-xs-max)
        padding: 30px 22px

    &.mobilization
      position: relative

      .background-drawing
        top: 50px
        height: calc(100% - 100px)
        right: calc(100%/12 * 2)

    h2
      font-family: $fira-sans-font
      font-size: 28px
      font-weight: bold
      margin: 0 0 16px

    strong
      font-family: $fira-sans-font

    .drawing
      .light-wrapper
        display: inline-block

      .icon
        background-size: contain
        background-position: center
        background-repeat: no-repeat
        display: inline-block
        height: 175px
        width: 175px

    .background-drawing
      position: absolute

  @media (min-width: 1.5 * $screen-lg-min)
    .header
      video
        left: 25%

    .carousel
      > .content
        margin-left: 0

  @media (min-width: $screen-md-min)
    .block
      &.mobilization
        padding: 30px

      .drawing
        text-align: center

        .icon
          background-position: center

      .content
        padding-left: 40px

      &.no-icon
        .content
          padding-left: 0

  @media (min-width: $screen-sm-min) and (max-width: $screen-sm-max)
    .block
      padding: 50px 0
      text-align: center
      font-size: 21px

      .next
        bottom: -40px

      &:not(.purple)
        .drawing
          .light-wrapper
            padding: 40px
            height: 200px
            width: 200px

      .drawing
        margin-bottom: 25px

        .icon
          height: 100px
          width: 100px

      &.no-title
        font-size: 24px

      h2
        font-size: 24px
        margin-bottom: 8px

    .header
      h1
        font-size: 32px

      video
        opacity: 0.3

  @media (max-width: $screen-xs-max)
    .block
      padding: 30px 22px 40px
      text-align: center
      font-size: 16px

      .next
        bottom: -35px

      &:not(.purple)
        .drawing
          .light-wrapper
            padding: 30px
            height: 130px
            width: 130px

      .drawing
        margin-bottom: 16px

        .icon
          height: 100px
          width: 100px

      &.no-title
        font-size: 18px

      h2
        font-size: 18px
        margin-bottom: 6px

    .header
      h1
        font-size: 24px

      video
        opacity: 0.5

  section#cycles_cards
    background: #e6e6e6 image-url("textured_paper.png")
    padding-bottom: 30px
    margin-bottom: 100px
    background-color: $color-grid-light-grey
    .cycle-item
      @media (max-width: $screen-xs-max)
        height: 500px
      @media (max-width: $screen-sm-max)
        height: 300px
      @media (max-width: $screen-md-max)
        height: 400px
      @media (min-width: $screen-lg-min)
        height: 500px
      text-align: center
      position: relative
      z-index: 1
      margin-bottom: 20px
      border-radius: 5px
      overflow: hidden
      font-family: $nunito-font

      .full-background-image
        +transition(all 0.2s ease)

      &:hover
        .black-overlay
          opacity: 0.5

        .full-background-image
          height: 103%

      .cycle-title
        color: white
        font-family: $fira-sans-font
        font-size: 42px
        line-height: 56px
        font-weight: 700
        text-transform: uppercase
        position: absolute
        width: calc(100% - 60px)
        top: 50%
        margin-top: -30px
        left: 30px
        +transform(translateY(-50%))
      .cycle-footer
        position: absolute
        bottom: 0
        height: 60px
        width: 100%
        left: 0
        color: white
        background: linear-gradient(90deg, rgba(17, 17, 17, 0.5), rgba(17, 17, 17, 0.5)), linear-gradient(90deg, rgba(81, 51, 147, 0.95), rgba(81, 51, 147, 0.95)), #fff
        &:hover
          text-decoration: none
          span
            text-decoration: underline
        span
          font-size: 20px
          text-transform: uppercase
          font-weight: 700
        .arrow, span
          vertical-align: middle
          color: white
          line-height: 60px
        .arrow
          width: 30px
          @include small-arrow(white)
          display: inline-block
          margin-right: 16px
          border-color: inherit
          &::before
            margin-left: -15px
          &::after
            border-color: inherit !important

    @media (max-width: $screen-xs-max)
      padding: 0 22px 30px
